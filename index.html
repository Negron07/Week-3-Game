<!DOCTYPE html>
<html>
<head>
	<title>My Psychic game</title>
</head>
<body>

<!--Whats shown up on the page -->

<h1>My Psychic Game!</h1>
	<div>
	<p>Guess the winning letters!</p>
    <p>Wins:<span id="wins">0</span></p>
    <p>Losses: <span id="losses">0</p>
    <p>Turn Count: <span id="turncount"></span></p>
    <p>Your Guesses: <span id="guessesSoFar"></span></p>
    </div>
<script type="text/javascript">	
	var compchoice = ['n', 'e', 'g', 'r', 'o', 'm'];
	var guessedLetters = [];
	var letterToGuess = null;
	var totalGuesses = 7;
	var turncount = 7;
	var wins = 0;
	var losses = 0;
	
	var updateturncount = function(){
		document.querySelector('#turncount').innerHTML = turncount;
	};
	
	var updateLetterToGuess = function(){
		this.letterToGuess = this.compchoice[Math.floor(Math.random() * this.compchoice.length)];
	};
	var updateGuessesSoFar = function(){
		document.querySelector('#guessesSoFar').innerHTML = guessedLetters.join(', ');
	};
	
	var reset = function(){
		totalGuesses = 7;
		turncount = 7;
		guessedLetters = [];
		updateLetterToGuess();
		updateturncount	();
		updateGuessesSoFar();
	}
	
	updateLetterToGuess(); 
	updateturncount	();

	document.onkeyup = function(event) {
		turncount --;
		var letter = String.fromCharCode(event.keyCode).toLowerCase();
		
		
		guessedLetters.push(letter);
		
		updateturncount();
		updateGuessesSoFar();
		
		if (turncount > 0){
			
			if (letter == letterToGuess){
				
				wins++;
				document.querySelector('#wins').innerHTML = wins;
				
				reset();
			}
		
		}else if(turncount == 0){
			
			losses++;
			document.querySelector('#losses').innerHTML = losses;
			
			reset();
		}
	};
</script>
</body>
</html>